@{
  var series = TimeseriesChartDescriptor.Datasets
    .Select(dataset => new ChartSeries
    {
      Name = dataset.Label,
      Data = dataset.Datapoints.Select(datapoint => (double)datapoint.Y).ToArray()
    })
    .ToList();

  var xAxisLabels = TimeseriesChartDescriptor.Datasets.FirstOrDefault()
    ?.Datapoints.Select(datapoint => datapoint.X.ToString())
    .ToArray() ?? Array.Empty<string>();
}

<ApexChart
  TItem="TimeseriesChartDatapointDescriptor"
  XAxisType="XAxisType.Datetime">
  @foreach (var dataset in TimeseriesChartDescriptor.Datasets) {
    <ApexPointSeries
      TItem="TimeseriesChartDatapointDescriptor"
      Items="dataset.Datapoints"
      Name="dataset.Label"
      SeriesType="SeriesType.Line"
      XValue="e => e.X"
      OrderBy="e => e.X" />
  }
</ApexChart>

@code {
  [Parameter]
  public TimeseriesChartDescriptor TimeseriesChartDescriptor { get; set; } = default!;
}
