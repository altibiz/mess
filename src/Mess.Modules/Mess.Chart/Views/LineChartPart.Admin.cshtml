@inject OrchardCore.ContentManagement.Display.IContentItemDisplayManager ContentItemDisplayManager
@inject OrchardCore.DisplayManagement.ModelBinding.IUpdateModelAccessor ModelUpdaterAccessor

<div class="mb-3 d-flex flex-column justify-content-between">
  <h5>@T["Datasets"]</h5>
  
  @if (Model.Part.Datasets is not null && Model.Part.Datasets.Count > 0)
  {
    @foreach (var contentItem in Model.Part.Datasets)
    {
      dynamic dataset = await ContentItemDisplayManager.BuildDisplayAsync(
        contentItem,
        ModelUpdaterAccessor.ModelUpdater,
        "Admin"
      );
      <div class="col">
        @await DisplayAsync(dataset)
      </div>
    }
  }
  else {
    <span class="hint">
      @T["No datasets found."]
    </span>
  }
  
  <div class="fload-end">
    <a  
        asp-route-area="Mess.Chart"
        asp-controller="LineChartDatasetAdmin"
        asp-action="Create"
        asp-route-contentItemId="@Model.Part.RootContentItemId"
        class="btn btn-success btn-sm">
      @T["Create"]
    </a>
  </div>
</div>